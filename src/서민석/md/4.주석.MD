### 주석은 없는게 좋다?

협업을 하다보면 자신이 짜낸 코드에 타인의 의해를 돕기위한 간단한 설명을 주석으로 표시할 때가 많다.

하지만 코드자체가 읽기 쉽고 바로이해할 수있는 형태를 취한다면 주석 자체가 필요없지않을까?


### 주석은 나쁜코드를 보완하지 못한다

이해할 수없는 질나쁜 코드를 작성한다음 코드를 다시 설명하는 주석을 또 작성하는것이 과연 좋은 방법일까?

```java
    //직원에게 복지혜택을 받을 자격이 있는지 검사한다.
    if((employee.flag & HOURLY_FLAG)&&
       (employee.age > 65))
```
```java
    
    if(employee.isEligibleForFullBenefits())
```

두가지 코드를 보았을때 주석이 필요없이 코드자체가 스스로를 설명하고 이야기처럼 읽어내려갈 수있게 작성된 코드가 훨씬 좋다.
코드의 핑계로 주석을 작성하지말고, 코드에 의도를 표현하는것이 좋다. 시간이 걸려도
나쁜코드로 발생하는 기술부채 그래프를 생각하며 조금만 시간을 투자해 보자.

### 좋은 주석

어떤 주석은 유익할 수도있다. 그중 가장 좋은것은 주석이 필요없는 방법을 찾아낸 주석이다.

- 법적인 주석

    
    업무 관계상 회사에서 정립한 구현 표준에 맞추어 법적인 이유로 특정 주석을 넣으라고 명시할 수 있다.
    저작권,소유권정보에 해당하는 정보는 필요할 수있다.

- 정보를 제공하는 주석

    
    기본적인 정보를 주석으로 제공하면 편리하다.

```java
//테스트 중인 Responder 인스턴스를 반환한다.
protected abstract Responder responderInstance();
```

다음 함수같은경우엔 주석으로 정보를 제공하기 때문에 필요한 주석이라 할 수있다.
하지만 메서드명을 통해 테스트중인 Responder 인스턴스를 반환하는 의미를 전달하면 주석이 필요없어진다.

- 의도를 설명하는 주석

- 결과를 경고하는 주석


다른 프로그래머에게 결과를 경고할 목적으로 주석을 작성하는 것은 합당하다. 시간이 오래걸리는 특정 테스트 케이스를 꺼야하는 이유라던가,
스레드에 안전하지 않은 특정 객체를 각각 독립적으로 생성해야하는 이유로 주석을 달면 다른 열정적인 프로그래머에 의해
수정되어 야기될 문제를 사전에 방지할 수있다.

- TODO 주석

앞으로 할 일 을 주석으로 관리하는 방법도 나쁘지않다.
다른 매체나 사물을 통해 스케줄 관리도 좋지만 코드자체에 다음에 만들어야할 기능을 TODO 리스트 주석으로 작성하고
협업하는 사람들과 공유할 수있다. 더이상 필요없는 기능, 당장은 구현이 오래걸리지만 나중에 만들어야할 기능, 다른 누군가에게 코드를 읽어봐 달라는 요청등
여러 역할을 TODO List 를 포함한 주석에서 할 수있다.

- 중요성을 강조하는 주석


```java
String listItemContent = match.group(3).trim();
/*trim 함수는 문자열에서 시작 공백을 제거한다.
문자열에 시작공백이 있으면 다른 문자열로 인식되기 때문에 여기서 trim 은 정말 중요하다. */

//..생략
```

위 코드와 같이 대수롭지 않게 넘어갈 수있는 부분의 중요성을 강조하기 위해 주석을 활용한다.

### 나쁜 주석

나쁜코드에 대한 변명이나, 미숙한 결정 합리화같은 주석은 의미없는 독백과같다.

- 주절거리는 주석

```java
import java.io.FileInputStream;
import java.io.IOException;

public void loadProperties() {
    try {
        String propertiesPath = propertiesLocation + "/" + PORPERTIES_FILE;
        FileInputStream propertiesStream = new FileInputStream(propertiesPath);
        loadedProperties.load(propertiesStream);
    } 
    catch (IOException e){
        // 속성파일이 없다면 기본값을 모두 메모리로 읽어 들였다는 의미다.
    }
}
```

위 코드의 catch 블록의 주석은 뭘까? 코드 작성자에겐 이해할 수있지만 다른사람은 알 수없다.
IOException 이 발생하면 속성파일이 없고 모든 기본값을 메모리로 읽었다는 상태란다. 
하지만 누가 기본값을 읽는지 loadedProperties.load를
호출전에 읽는지, 예외를 처리해 기본값을읽어들인 다음 예외를 던지는지?

여러 의문이 생기지만 주석이 이를 해결하지않는다. 

결국 필자는 내부 코드를 뜯어보게 된다.

- 같은 이야기를 중복하는 주석

```java
//this.closed 가 true 일 때 반환되는 유틸리티 메서드다.
//타임아웃에 도달하면 예외를 던진다.

public synchronized void waitForClose(final long timeoutMillis)
throws Exception{
    if(!closed)
        throw new Exception("MockResponseSender could not be closed");
}
```

주석의 의미가 뭘까?
코드보다 많은 정보를 전달하지도 않는다. 코드의 의도와 근거를 설명하지도 않을 뿐 더러 실제 코드보다 부정확해
독자가 함수를 대충 이해하고 넘어가 문제를 발생하게 만든다.
마치 중고차 사기같은 주석이라 할 수있다.

- 이력을 기록하는 주석

요즘은 버전관리를 통해 수정내용을 메시지로 일자와 함께 작성하기 때문에 그럴일은 없을 것같다.

- 있으나 마나한 주석

위에서 말한 메서드와 예외를 던진다는 대충작성한 주석과 비슷하다

```java
// 기본 생성자
protected AnnalDateRule(){
}
```
백번 양보해서 저 코드가 생성자라는걸 모르는 사람을 위한 주석일 수도 있겠지만,
중요한건 좋은 주석과 좋은 코드를 필요로하는 업무와 협업 프로세스에서 저런 당연한 말은 주석으로 가치가 없다.

아마 반복된다면 독자들은 무의식적으로 주석을 무시할 것이다.


- 함수나 변수로 표현할 수있다면 주석을 달지마라

함수이름과 변수 이름에서 의도를 전달할 수 있거나 내용자체에 의미가 잘 담겨있다면
굳이 주석을 달 필요가없다.

- 주석으로 처리한 코드

코드의 수정으로 기존에 있던 코드를 지우기위해 주석처리할 때가있다. 하지만 이는 좋지않다 
다른사람이 보았을때 지우기를 주저한다. 사용하지 않는 코드라면 코드블럭에 남기지말고 지우는것이 좋다